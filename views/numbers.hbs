<div class="row mb-4">
  <div class="col-12 col-lg-6">
    <h1>Numbers</h1>
    {{#if application.number_msisdn }}
      <h4>Number in use: {{application.number_msisdn}} (application.number_country)</h4>
    {{/if}}
  </div>
  <div class="col-12 col-lg-6 text-lg-right">
    <form action="/numbers/search" method="POST">
      Buy number in 
      <select name="country" id="country">
        <option selected="selected" value="GB">GB</option>
        <option value="USA">USA</option>
        <option value="FR">FR</option>
        <option value="GE">GE</option>
      </select>
      <input type="submit" name="commit" value="Search" class="btn btn-sm btn-primary">
    </form>
  </div>
</div>

{{#unless application.number_msisdn }}
  <p class="alert alert-info">No Number in use</p>
{{/unless}}

<hr />

<table class="table table-sm table-borderless table-striped table-hover">
  <thead>
    <tr>
      <th scope="col">Available Number</th>
      <th scope="col">Country</th>
      <th scope="col">Features</th>
      <th scope="col">&nbsp;</th>
    </tr>
  </thead>

  <tbody>
    {{#each numbers as |number key|}}
      <tr>
        <td>{{number.msisdn}}</td>
        <td>{{number.country}}</td>
        <td>{{number.features}}</td>
        <td>
          {{!-- <% if !number.features.include?("VOICE") %>
            No voice capability.
          <% elsif number.voiceCallbackValue.blank? %>
            <%= link_to "Link", numbers_add_path(country: number.country, msisdn: number.msisdn), method: :post, class: 'btn btn-sm btn-danger' %>
          <% elsif number.voiceCallbackValue == @nexmo_app.app_id %>
            <strong>Linked.</strong>
            <%= link_to "Unlink", numbers_remove_path(country: number.country, msisdn: number.msisdn), method: :post, class: 'btn btn-sm btn-warning' %>
          <% else %>
            Number already in use.
          <% end %> --}}
        </td>
      </tr>
    {{/each}}
  </tbody>
</table>
